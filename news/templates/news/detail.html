{% extends 'base.html' %}

{% block content %}
<h2>{{ news.title }}</h2>
<p class="text-muted">
    ğŸ“‚ {{ news.category.name }} | ğŸ“… {{ news.created_at|date:"d M Y H:i" }}
</p>
<div class="mb-3">
    {{ news.content|linebreaks }}
</div>
{% if news.image %}
    <img src="{{ news.image.url }}" class="img-fluid mb-3" style="max-height: 400px; object-fit: cover;">
{% endif %}

<!-- Ğ“Ğ¾Ğ»Ğ¾ÑĞ¾Ğ²Ğ°Ğ½Ğ¸Ğµ -->
<div class="mt-4">
    <h5>Vote:</h5>
    {% if user.is_authenticated %}
        {% if user_vote %}
            <p>You voted:
                {% if user_vote.value == 1 %}ğŸ‘ Upvote{% else %}ğŸ‘ Downvote{% endif %}
            </p>
            <a href="{% url 'news:vote' news.pk 1 %}" class="btn btn-sm btn-success">Change to ğŸ‘</a>
            <a href="{% url 'news:vote' news.pk -1 %}" class="btn btn-sm btn-danger">Change to ğŸ‘</a>
        {% else %}
            <a href="{% url 'news:vote' news.pk 1 %}" class="btn btn-success">ğŸ‘ Upvote</a>
            <a href="{% url 'news:vote' news.pk -1 %}" class="btn btn-danger">ğŸ‘ Downvote</a>
        {% endif %}
    {% else %}
        <p><a href="{% url 'news:login' %}?next={{ request.get_full_path|urlencode }}">Ğ’Ğ¾Ğ¹Ğ´Ğ¸Ñ‚Ğµ</a>, Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ Ğ³Ğ¾Ğ»Ğ¾ÑĞ¾Ğ²Ğ°Ñ‚ÑŒ!</p>
    {% endif %}
</div>

<a href="{% url 'news:list' %}" class="btn btn-secondary mt-3">â† Back to news</a>
{% endblock %}